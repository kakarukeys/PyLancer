{% extends "project_base.html" %}
{% load i18n %}

{% block css %}
{{ block.super }}
        <link rel="stylesheet" href="{{ STATIC_URL }}css/job_list.css" />
{% endblock %}

{% block content %}
<h1>Python Jobs</h1>

<section id="openings"> <!-- openings section -->
	<header> <!-- openings section Header -->
		<h1>Job Openings</h1>
		<p class="butt addjob"><span onclick="alert('add job');">Add job</span></p>
	</header> <!-- END openings section Header -->
	
	<div> <!-- openings data -->
		<p id="typekey"><span class="full">Full-timer</span> <span class="part">Part-timer</span> <span class="free">Freelancer</span></p> <!-- type color key -->
		
		<ul> <!-- each item in that list is an opening -->
			{% for job in job_list.object_list %}
				<li>
					<p class="title {{ job.contract_type_as_html }}"><span>{{ job.title }}</span> @ <em>{{ job.location }}</em> for <strong>{{ job.employer }}</strong></p>
					<p class="desc" style="display: none;">{{ job.description }}<a class="butt" href="mailto:{{ job.posted_by.email }}?Subject={{ job.title }}">Apply</a></p>
				</li>
			{% endfor %}
		</ul> <!-- END opening list -->
		
	</div> <!-- END openings data -->
</section> <!-- END openings section -->


<section id="profiles"> <!-- Developers profiles section -->
	<header> <!-- profiles section Header -->
		<h1>Hire me</h1>
		<p class="butt addprofile"><span onclick="alert('add profile');">Add Profile</span></p>
	</header> <!-- END profiles section Header -->
	
	<div> <!-- profiles data -->
	<ul> <!-- each item in that list is a developer profile -->
		{% for profile in freelancer_profile_list.object_list %}
			<li>
				<p class="title">{{ profile.title }}</p>
				<p class="desc" style="display: none;">{{ profile.description }}<a class="butt" href="mailto:{{ profile.owner.email }}">Contact</a>
				</p>
			</li>
		{% endfor %}
	</ul> <!-- END profiles list -->
	</div> <!-- END profiles data -->
</section> <!-- END Developers profiles section -->
{% endblock content %}

{% block javascript %}
<script type="text/javascript">
$(function() {
    $('ul > li > p.title').click(function() {
        var $li = $(this).parent();
        if ($li.hasClass('expanded')) {
            $li.find('p.desc').slideToggle('slow', function() {
                $li.toggleClass('expanded');
            })
        } else {
            $li.toggleClass('expanded')
               .find('p.desc').slideToggle('slow');
        }
    })
})
</script>
{% endblock %}

